# Face Compare Demo

这是一个完整的 face-compare 组件库演示项目，展示了如何使用 face-compare 的各种功能和配置选项。

## 🚀 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

项目将在 http://localhost:3000 启动，并自动打开浏览器。

### 构建生产版本

```bash
npm run build
```

### 预览构建结果

```bash
npm run preview
```

## 🎯 功能特性

### 1. 智能流程管理 🆕
- **一键智能识别**: 自动判断用户是否需要录制人脸还是进行人脸对比
- **智能决策**: 首先调用 `getUserInfo` 检查用户状态，然后自动选择相应流程
- **简化操作**: 用户只需点击一个按钮即可完成整个流程

### 2. 配置面板
- **基础配置**: API地址、用户ID、认证密钥
- **摄像头配置**: 分辨率、质量、方向、主题、语言
- **高级配置**: 超时时间、重试次数、相似度阈值等

### 3. 操作面板
- **实例管理**: 创建 FaceCompare 实例、获取系统信息、获取用户信息
- **智能流程**: 🚀 开始智能人脸识别（推荐使用）
- **手动控制**: 手动打开/关闭摄像头、清除图片
- **人脸识别操作**: 手动初始化人脸数据、开始对比

### 4. 状态监控
- 实时显示摄像头状态、初始化状态、处理状态、图片状态
- 错误信息显示
- 对比结果显示
- 系统信息展示

### 5. 图片预览
- 显示拍摄的图片
- 支持图片缩放和查看

## 🔧 技术栈

- **React 18** - 用户界面库
- **TypeScript** - 类型安全的 JavaScript
- **Vite** - 快速构建工具
- **face-compare** - 人脸对比组件库

## 📱 响应式设计

- 支持桌面端和移动端
- 自适应布局
- 触摸友好的界面

## 🎨 自定义样式

- 现代化的 UI 设计
- 渐变背景
- 卡片式布局
- 丰富的动画效果

## 📋 使用说明

### 1. 配置后端服务
确保您的 InsightFace 后端服务正在运行，并配置正确的 API 地址。

### 2. 调整参数
在配置面板中调整各种参数，包括：
- 摄像头分辨率
- 图片质量
- 相似度阈值
- 超时设置等

### 3. 使用智能流程（推荐）
点击 "🚀 开始智能人脸识别" 按钮，系统将：
1. 自动检查用户是否已录制人脸
2. 如果未录制，自动开始录制流程
3. 如果已录制，自动开始对比流程

### 4. 手动控制
如果需要手动控制，可以使用操作面板中的各种按钮：
- 创建实例
- 打开摄像头
- 拍照识别
- 人脸对比

### 5. 监控状态
在状态面板中实时查看各种状态信息，包括：
- 摄像头状态
- 初始化状态
- 处理状态
- 图片状态
- 错误信息
- 对比结果

## 🔄 智能流程详解

### 流程逻辑
1. **用户点击智能识别按钮**
2. **系统调用 `getUserInfo()` 检查用户状态**
3. **根据结果自动选择流程**：
   - 如果用户不存在 → 开始录制人脸流程
   - 如果用户已存在 → 开始人脸对比流程
4. **自动打开摄像头并拍照**
5. **根据选择的流程执行相应操作**

### 优势
- **零配置**: 用户无需了解技术细节
- **智能决策**: 系统自动选择正确的流程
- **一键操作**: 整个流程只需一个按钮点击
- **错误处理**: 自动处理各种异常情况

## 🚫 已移除功能

- **批量对比**: 为了简化流程，已移除批量对比功能
- **复杂配置**: 简化了不必要的配置选项

## 📝 注意事项

1. 确保后端服务正常运行
2. 检查网络连接和API地址配置
3. 允许浏览器访问摄像头权限
4. 在光线充足的环境下使用效果更佳

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个演示项目！

## 📄 许可证

本项目采用 MIT 许可证。
